<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>{{ group['name'] }} Members</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
  <style>
    .members-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
      gap: 1rem;
    }

    .member-card {
      background: var(--card-bg);
      color: var(--text);
      padding: 1rem;
      border-radius: 10px;
      text-align: center;
      box-shadow: var(--shadow-1);
    }

    @media (max-width: 700px) {
      .members-grid {
        grid-template-columns: 1fr 1fr;
        gap: 0.6rem;
      }

      .member-card {
        padding: 0.75rem;
      }

      .member-avatar {
        width: 64px !important;
        height: 64px !important;
      }
    }

    body.dark .member-card {
      background: linear-gradient(180deg, rgba(255,255,255,0.02), var(--card-bg));
      color: var(--text);
    }

    body:not(.dark) .member-card {
      background: #fff;
      color: #111;
    }
  </style>
</head>
<body>
  <div class="dashboard-container">
    {% if not request.args.get('app') %}
      {% include '_navbar.html' %}
    {% endif %}
    <h2>{{ group['name'] }} â€” Members</h2>

    <div class="members-grid">
      {% for m in members %}
        <a href="/user/{{ m['id'] }}" style="text-decoration:none; color:inherit;">
          <div class="member-card">
            <div class="member-avatar" style="width:80px; height:80px; margin:0 auto 0.5rem; border-radius:50%; overflow:hidden; border:2px solid #667eea;">
              {% if m['profile_pic'] %}
                <img src="{{ m['profile_pic'] }}" style="width:100%; height:100%; object-fit:cover;">
              {% else %}
                <div style="width:100%; height:100%; display:flex; align-items:center; justify-content:center;">{{ m['username'][0].upper() }}</div>
              {% endif %}
            </div>
            <div style="font-weight:700;">{{ m['username'] }}</div>
          </div>
        </a>
      {% endfor %}
    </div>
  </div>
</body>
</html>